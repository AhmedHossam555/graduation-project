

<div class="px-4 py-6">
  <h2 class="text-2xl font-bold py-5 border-b border-gray-100 mb-8">BackLog</h2>

  


  <!-- Sprint List -->
  <div id="sprint-list" class="mb-10">
    @for (sprint of sprintTasks; track  $index) {
      <div class="bg-[#f8f8f8] shadow py-3 px-2 mb-2 rounded ">
        <!-- Header -->
      <div class="flex justify-between items-center mb-4">
        <h2 class="text-xl font-medium mb-2">{{sprint.title}} <span class="text-sm  text-gray-500 pl-3">{{sprint.startDate}} â€“ {{sprint.endDate}} &nbsp; (1 issue)</span></h2>
        <div class="inline-flex items-center gap-2">
          @if(!sprint.sprintStart){
            <button   [disabled]="$index > 0" 
              [ngClass]="{'bg-blue-600 hover:bg-blue-700 cursor-pointer': $index === 0,
              'bg-gray-300 cursor-not-allowed': $index > 0}" 
              class="px-4 py-1 cursor-pointer border bg-blue-600 rounded-md text-white font-medium hover:bg-blue-700 transition-all ease-in-out duration-300">
              Start sprint
            </button>
          }@else {
            <button class="px-4 py-1 cursor-pointer border border-gray-300 rounded-md text-gray-900 font-medium hover:bg-gray-100 hover:text-gray-800 transition-all ease-in-out duration-300">
              Complete Sprint
            </button>
          }
          <!-- Edit Button -->
          <div class="parent-edit relative">
            <button  class="inline-flex  self-center items-center cursor-pointer p-2 text-sm font-medium text-center text-gray-900 bg-gray-100 rounded hover:bg-gray-200   dark:text-white focus:ring-gray-50 dark:bg-gray-900 dark:hover:bg-gray-800 " type="button">
              <svg class="w-4 h-4 text-gray-500 dark:text-gray-400" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="h-4 w-4 text-gray-700"><circle cx="12" cy="12" r="1"></circle><circle cx="19" cy="12" r="1"></circle><circle cx="5" cy="12" r="1"></circle></svg>
           </button>
           <div [id]="'edit-button-'+$index" class="absolute hidden right-0  mt-2 w-40 origin-top-right rounded-md  bg-white shadow">
            <div class="py-1">
              <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Edit sprint</a>
              <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Delete sprint</a>
            </div>
          </div>
          </div>
        
      
      

        </div>
  
        
      </div>
      <!-- body backlog -->
      <div (drop)="onDrop($event,$index)" (dragover)="onDragOver($event)" class="body-sprint bg-white  main-border rounded-sm">
        @for(item of sprint['sprint-tasks']; track $index){
          <div draggable="true" (dragstart)="onDragStart(item)" class="item-task-sprint flex items-center justify-between hover:bg-gray-100 cursor-move p-3 ">
            <div class="flex items-center gap-2">
              <div class="w-4 h-4 bg-green-500 rounded-sm"></div>
              <span class="font-medium">{{item.title}}</span>
            </div>
            <span class="text-gray-400 text-sm">{{item.id+'DSL'}}</span>
          </div>
        }
      <div class="input-sprint-issue">
        <input type="text" [id]="sprint.id+'DSL'" (keyup)="addTaskToSprintHandler($event,$index)"  class="hidden backlog-input w-full   p-3  text-sm border-0   font-normal text-main-label focus:border-transparent"  [(ngModel)]="sprintTaskValue" placeholder=" What needs to be done?">
      </div>
      </div>
    
      <div class="p-3 hover:bg-gray-100 cursor-pointer"  [appShowInput]="sprint.id+'DSL'" >
        <button class="text-blue-600 cursor-pointer text-sm font-semibold" >+ Create issue</button>
      </div>
    
    
    </div>
    }
  
  </div>











  <!----------------- Backlog List ---------------- -->
  <div id="backlog-list" class="mb-6">
    <div class="bg-[#f8f8f8] shadow py-3 px-2 mb-2 rounded ">
      <div class="flex justify-between items-center mb-4">
        <h2 class="text-xl font-medium mb-2">Backlog <span class="text-sm  text-gray-500">(1 issue)</span></h2>
        <button class="px-4 py-1 border border-gray-300 rounded-md text-gray-900 font-medium hover:bg-gray-100 hover:text-gray-800 transition-all ease-in-out duration-300">
          Create sprint
        </button>
      </div>
      <!-- body backlog -->
      <div (drop)="onDrop($event, 0)" (dragover)="onDragOver($event)" class="body-backlog bg-white  main-border rounded-sm">
        @for(item of backlogTasks; track $index){
          <div draggable="true" (dragstart)="onDragStart(item)" class="item-task-backlog flex items-center justify-between hover:bg-gray-100 cursor-move p-3 ">
            <div class="flex items-center gap-2">
              <div class="w-4 h-4 bg-green-500 rounded-sm"></div>
              <span class="font-medium">{{item.title}}</span>
            </div>
            <span class="text-gray-400 text-sm">{{item.id}}</span>
          </div>
        }
      <div>
        @if (isVisibleCreateIssue ) {
          <input type="text" id="backlog-value" (keyup)="addTaskToBacklogHandler($event)"  class="block backlog-input w-full   p-3  text-sm border-0   font-normal text-main-label focus:border-transparent"  [(ngModel)]="backlogVlaue" placeholder=" What needs to be done?">
        }
      </div>
    
      </div>
      @if(!isVisibleCreateIssue){
        <div class="p-3 hover:bg-gray-100 cursor-pointer" (click)="addTaskToBacklog()" >
          <button class="text-blue-600 cursor-pointer text-sm font-semibold"   >+ Create issue</button>
        </div>
    }
    
    </div>
  </div>
</div>











<!-- 


<div id="accordion-collapse" data-accordion="collapse">
  <h2 id="accordion-collapse-heading-1">
    <button type="button" class="flex items-center gap-3 w-full p-5 font-medium text-black bg-gray-100  " data-accordion-target="#accordion-collapse-body-1" aria-expanded="true" aria-controls="accordion-collapse-body-1">
      <svg data-accordion-icon class="w-3 h-3 rotate-180 shrink-0" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 10 6">
        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5 5 1 1 5"/>
      </svg>
      <span>What is Flowbite?</span>
    </button>
  </h2>
  <div id="accordion-collapse-body-1" class="hidden" aria-labelledby="accordion-collapse-heading-1">
    <div class="p-5 ">
      <p class="mb-2 text-gray-500 dark:text-gray-400">Flowbite is an open-source library of interactive components built on top of Tailwind CSS including buttons, dropdowns, modals, navbars, and more.</p>
    </div>
  </div>
  
</div> -->
